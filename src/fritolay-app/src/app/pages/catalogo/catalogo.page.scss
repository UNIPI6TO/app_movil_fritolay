/* Ensure cart FAB appears above the fixed footer */
.cart-fab {
	z-index: 10001 !important;
}

/* Slightly lift FAB so it's not flush with the footer */
.cart-fab {
	bottom: 72px; /* adjust if footer height changes */
}


/* Fondo blanco detrás de las cards: aplica igualmente en modo claro/oscuro */
.catalog-list {
	background: #f4f5f8;
	border-radius: 12px;
	padding: 14px;
	padding: 10px 12px;
}
.ion-padding{
	background: #ffffff;
}

body.dark .catalog-list { background: #ffffff; }

/* Force the whole content background to white so cards sit on white surface */
ion-content {
	--background: #ffffff !important;
	background: #ffffff !important;
}

/* Ensure dark mode does not recolor the content background */
body.dark ion-content {
	--background: #ffffff !important;
	background: #ffffff !important;
	color: #222222;
}

.item-card {
	--padding-start: 0;
	--padding-end: 0;
	margin-bottom: 14px;
	background-color: #f4f5f8;
}

.product-card {
	border-radius: 12px;
	overflow: hidden;
	/* sombra más suave para reducir ruido */
	box-shadow: 0 2px 8px rgba(16,24,40,0.06);
	display: block;
	background: #ffffff; /* fondo claro consistente */
	color: #222222;
	border: 1px solid rgba(0,0,0,0.06);
	transition: transform .14s ease, box-shadow .14s ease;
}

.product-card:active,
.product-card:focus-within {
	transform: translateY(-2px);
	box-shadow: 0 6px 18px rgba(16,24,40,0.08);
}

.img-box {
	position: relative;
	width: 100%;
	height: 160px;
	background: transparent;
	border-bottom: 1px solid rgba(0,0,0,0.04);
}

.img-box img {
	width: 100%;
	height: 100%;
	object-fit: cover;
	display: block;
}

.price-badge {
	position: absolute;
	left: 12px;
	bottom: 12px;
	/* color custom (azul) como en la imagen: fondo azul y texto blanco */
	background: var(--price-badge-color, #0b66ff);
	color: #ffffff;
	padding: 5px 8px;
	border-radius: 6px;
	font-weight: 700;
	font-size: 0.85rem;
	box-shadow: 0 2px 6px rgba(16,24,40,0.06);
}

.discount-badge {
	position: absolute;
	right: 12px;
	top: 12px;
	background: var(--ion-color-primary, #0b66ff);
	color: #ffffff;
	padding: 6px 10px;
	border-radius: 4px;
	font-weight: 700;
	font-size: 0.75rem;
	box-shadow: 0 2px 8px rgba(11,102,255,0.2);
}

.price-value {
	flex-shrink: 0;
}

.discount-chip {
	--padding-start: 6px;
	--padding-end: 6px;
	height: auto;
	margin: 0;
	--color: #ffffff;
}

.product-name {
	font-size: 1rem;
	font-weight: 700;
	margin-bottom: 6px;
	font-size: 1.05rem;
	color: #222222;
}

.meta-row {
	display: flex;
	gap: 8px;
	align-items: center;
}

/* Order total chip in header */

.order-total {
	background: #FFD54A; /* color solicitado (amarillo Frito Lay) */
	color: rgba(0,0,0,0.95);
	font-weight: 800;
	margin-right: 8px;
	height: 30px;
	display: inline-flex;
	align-items: center;
	padding: 0 8px;
	border-radius: 8px;
	border: none;
	box-shadow: 0 2px 6px rgba(0,0,0,0.08);
}

body.dark .order-total {
	background: #b58300; /* versión más oscura para dark */
	color: #fff;
}

/* sub-toolbar debajo del título para mostrar el total sin sobreponer */
/* sub-toolbar: coloca el chip del total debajo del título */
.sub-toolbar {
	--min-height: 40px;
	padding: 0 12px;
	box-shadow: none;
}
.sub-toolbar-inner {
	width: 100%;
	display: flex;
	justify-content: flex-end; /* mover a la derecha */
	align-items: center;
	padding: 6px 0;
}

/* Total por producto (muestra cuando hay cantidad en carrito) */
/* item-total removed by request */

/* Ensure meta items align and hide accidental avatar/circle elements */
.meta-row > * { display: inline-flex; align-items: center; gap: 8px; }
.meta-row ion-avatar, .meta-row .avatar, .meta-row .circle-placeholder { display: none !important; }
.meta-row ::ng-deep ion-avatar { display: none !important; }

.chip-linea {
	/* Línea: color primario (fondo primario, texto blanco) */
	background: var(--ion-color-primary, #3880ff);
	color: #ffffff;
	height: 24px;
	font-size: 0.72rem;
	font-weight: 600;
	padding: 0 8px;
	border-radius: 12px;
	display: inline-flex;
	align-items: center;
}

.chip-category {
	/* Categoria: color secundario */
	background: var(--ion-color-secondary, #3dc2ff);
	color: #ffffff;
	height: 24px;
	font-size: 0.72rem;
	font-weight: 600;
	padding: 0 8px;
	border-radius: 12px;
	display: inline-flex;
	align-items: center;
}

.sku.muted {
  font-size: 0.78rem;
	color: rgba(0,0,0,0.6);
}

.desc {
	color: rgba(0,0,0,0.66);
	margin: 6px 0 12px 0;
	max-height: 48px;
	overflow: hidden;
	text-overflow: ellipsis;
}

.actions {
	display: flex;
	gap: 10px;
	align-items: center;
}

.btn-add {
	--padding-start: 12px;
	--padding-end: 12px;
	--border-radius: 20px;
	--box-shadow: none;
	font-weight: 700;
	height: 40px;
}

.link-ver {
	background: transparent;
	border: none;
	color: rgba(0,0,0,0.55);
	font-weight: 600;
	cursor: pointer;
}

/* Dark mode adjustments: improve contrast when body has class 'dark' (Ionic convention) */
/* Force same light palette even in dark mode to keep cards consistent */
body.dark .product-card {
	background: #ffffff;
	border: 1px solid rgba(0,0,0,0.06);
}
body.dark .product-name { color: #222222; }
body.dark .chip-linea { background: color-mix(in srgb, var(--ion-color-primary, #3880ff) 70%, #000 30%); }
body.dark .chip-category { background: color-mix(in srgb, var(--ion-color-secondary, #3dc2ff) 70%, #000 30%); }
body.dark .chip-linea, body.dark .chip-category { color: #fff; }
body.dark .actions, body.dark .link-ver { color: rgba(0,0,0,0.72); }
body.dark .sku.muted {
		color: rgba(0,0,0,0.6);
		font-weight: 600;
		background: transparent;
		padding: 0;
		border-radius: 0;
}
body.dark .desc { color: rgba(0,0,0,0.66); }
body.dark .price-badge { color: #000; background: var(--ion-color-primary, #ffd54a); }

/* Ensure the custom blue price badge stays blue in dark mode */
body.dark .price-badge { color: #ffffff; background: var(--price-badge-color, #0b66ff); box-shadow: 0 2px 8px rgba(11,102,255,0.12); }

/* Hide more possible circular indicators (radio/avatar) next to SKU */
.meta-row ion-avatar,
.meta-row .avatar,
.meta-row .circle-placeholder,
.meta-row ion-radio,
.meta-row .radio-button,
.meta-row [class*="ion-radio"],
.meta-row [class*="avatar"],
.meta-row svg[role="img"] {
	display: none !important;
}
/* Skeleton styles */
.skeleton-card { background: linear-gradient(90deg,#f6f7f9,#f2f3f5); }
.skeleton-img { width:100%; height:100%; background: linear-gradient(90deg,#e9e9ea,#f3f3f4); border-radius:6px }
.skeleton-text { height: 14px; display:block; background: linear-gradient(90deg,#e9e9ea,#f3f3f4); border-radius:4px }

@media (min-width: 768px) {
	.img-box { height: 200px; }
	.product-name { font-size: 1.05rem; }
}

/* Controles de cantidad en una sola fila */
.qty-controls {
	display: flex;
	align-items: center;
	gap: 8px;
}

.qty-controls ion-button {
	--padding-start: 2px;
	--padding-end: 2px;
	--border-radius: 20px;
	height: 32px;
	width: 32px;
	display: inline-flex;
	align-items: center;
	justify-content: center;
}

.qty-controls ion-button ion-icon {
	font-size: 20px;
}

.qty-controls .qty {
	min-width: 28px;
	text-align: center;
	font-weight: 700;
	font-size: 0.95rem;
	color: rgba(0,0,0,0.8);
}

.qty-controls ion-button[color="danger"] ion-icon {
	color: var(--ion-color-danger, #ee5253);
}

.qty-controls ion-input.qty-input {
	min-width: 50px;
	max-width: 60px;
	--padding-start: 4px;
	--padding-end: 4px;
	text-align: center;
	font-weight: 600;
	font-size: 0.95rem;
	border: 2px solid #0b66ff;
	border-radius: 6px;
	background: #ffffff;
	--background: #ffffff;
}

.qty-controls ion-input.qty-input input {
	font-weight: 600;
	font-size: 0.95rem;
	text-align: center;
	color: #222222;
	background: transparent;
}

/* Modo oscuro */
body.dark .qty-controls .qty { color: #fff; }
body.dark .qty-controls ion-input.qty-input {
	border-color: #0b66ff;
	background: #1e1e1e;
	--background: #1e1e1e;
}
body.dark .qty-controls ion-input.qty-input input {
	color: #ffffff;
	background: transparent;
}

/* Botones + / - con fondo igual al price-badge */
.qty-controls ion-button:not([color="danger"]) {
	--background: var(--price-badge-color, #0b66ff);
	--color: #ffffff;
	--ripple-color: rgba(255,255,255,0.12);
	border-radius: 999px;
	box-shadow: 0 2px 8px rgba(11,102,255,0.12);
}

.qty-controls ion-button:not([color="danger"]) ion-icon {
	color: #ffffff;
	font-size: 18px;
}

/* Estado activo/press ligeramente más oscuro */
.qty-controls ion-button:not([color="danger"]):active {
	filter: brightness(0.92);
}
